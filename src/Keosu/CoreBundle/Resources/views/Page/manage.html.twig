{#
Keosu is an open source CMS for mobile app
Copyright (C) 2016  Pockeit

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
#}
{% extends 'KeosuCoreBundle:MainViews:page.html.twig' %}

{% block title %}Manage pages{% endblock %}

{% block content %}

	<div class="row">
		<div class="col-md-10 col-md-offset-1">
			<fieldset>
				<legend><span class="glyphicon glyphicon-file icon-menu"></span>Manage Pages</legend>

				<a class="btn btn-success" href="{{ path('keosu_core_views_page_manage_add') }}"><span class="glyphicon glyphicon-plus-sign icon-success"></span>Add new page</a>

				<table class="table table-striped table-hover">
					<thead>
					<tr>
						<th>is index</th>
						<th>page name</th>
						<th>page template</th>
						<th colspan="2"></th>
					</tr>
					</thead>
					<tbody>
					{% for page in pages %}
						<tr>
							<td>
								{% if page.isMain %}
									<span class="glyphicon glyphicon-hand-right"></span>
								{% endif %}
							</td>
							<td>{{ page.name }}</td>
							<td>{{ page.templateId }}</td>
							<td>
								{{ includePanelPage(page.id) }}
							</td>
						</tr>
					{% else %}
						<p>No pages</p>
					{% endfor %}
					</tbody>
					<tfoot>
					<tr>
						<th>is index</th>
						<th>page name</th>
						<th>page template</th>
						<th></th>
					</tr>
					</tfoot>
				</table>
			</fieldset>
			</ul>
		</div>
	</div>
{% endblock %}
